<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>linux swap | withme's blog</title>
<meta name=keywords content><meta name=description content="summary
linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.
example
In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can&rsquo;t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can&rsquo;t control it by ssh.In the last,I have to reboot it by the panel supported by azure."><meta name=author content="withme"><link rel=canonical href=https://blog.withme.top/posts/linux-swap/><meta name=google-site-verification content="G-P3Z1RE78CQ"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://blog.withme.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.withme.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.withme.top/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.withme.top/apple-touch-icon.png><link rel=mask-icon href=https://blog.withme.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://blog.withme.top/posts/linux-swap/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://blog.withme.top/posts/linux-swap/"><meta property="og:site_name" content="withme's blog"><meta property="og:title" content="linux swap"><meta property="og:description" content="summary linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.
example In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can’t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can’t control it by ssh.In the last,I have to reboot it by the panel supported by azure."><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-24T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-24T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="linux swap"><meta name=twitter:description content="summary
linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.
example
In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can&rsquo;t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can&rsquo;t control it by ssh.In the last,I have to reboot it by the panel supported by azure."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.withme.top/posts/"},{"@type":"ListItem","position":2,"name":"linux swap","item":"https://blog.withme.top/posts/linux-swap/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"linux swap","name":"linux swap","description":"summary linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.\nexample In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can\u0026rsquo;t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can\u0026rsquo;t control it by ssh.In the last,I have to reboot it by the panel supported by azure.\n","keywords":[],"articleBody":"summary linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.\nexample In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can’t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can’t control it by ssh.In the last,I have to reboot it by the panel supported by azure.\nmain create a file which is 2G in size named swapfile located on the root folder.\n1 fallocate -l 2G /swapfile set the right permissions on it\n1 chmod 600 /swapfile format the file as swap\n1 mkswap /swapfile enable the swap\n1 swapon /swapfile make it permanent write the below sentence on /etc/fstab\n1 /swapfile none swap sw 0 0 conclusion swap is very useful.I like swap.I often set the swap on machine whose disk is more than 8G.\n","wordCount":"197","inLanguage":"zh-cn","datePublished":"2025-04-24T00:00:00Z","dateModified":"2025-04-24T00:00:00Z","author":{"@type":"Person","name":"withme"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.withme.top/posts/linux-swap/"},"publisher":{"@type":"Organization","name":"withme's blog","logo":{"@type":"ImageObject","url":"https://blog.withme.top/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.withme.top/ accesskey=h title="withme (Alt + H)">withme</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">linux swap</h1><div class=post-meta><span title='2025-04-24 00:00:00 +0000 UTC'>2025-04-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;197 words&nbsp;·&nbsp;withme</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#summary aria-label=summary>summary</a></li><li><a href=#example aria-label=example>example</a></li><li><a href=#main aria-label=main>main</a></li><li><a href=#make-it-permanent aria-label="make it permanent">make it permanent</a></li><li><a href=#conclusion aria-label=conclusion>conclusion</a></li></ul></div></details></div><div class=post-content><h3 id=summary>summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h3><p>linux swap is a method to use the hard disk as running memory.By the method,we can run program that needs much memory on the machine that lacks much memory.</p><h3 id=example>example<a hidden class=anchor aria-hidden=true href=#example>#</a></h3><p>In an azure virtual machine which only has 1G running memory,the popular website builder named Halo can&rsquo;t run on it.Because the memory is not enough.Halo is written in java,so that Halo is a program which has a strict requirements for memory.Not to mention,I like to run mysql which is a popular database program on the same machine.Anyway,when I tried to run both of them,the machine is stuck and I can&rsquo;t control it by ssh.In the last,I have to reboot it by the panel supported by azure.</p><h3 id=main>main<a hidden class=anchor aria-hidden=true href=#main>#</a></h3><p>create a file which is 2G in size named swapfile located on the root folder.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>fallocate -l 2G /swapfile
</span></span></code></pre></td></tr></table></div></div><p>set the right permissions on it</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>600</span> /swapfile
</span></span></code></pre></td></tr></table></div></div><p>format the file as swap</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkswap /swapfile
</span></span></code></pre></td></tr></table></div></div><p>enable the swap</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>swapon /swapfile
</span></span></code></pre></td></tr></table></div></div><h3 id=make-it-permanent>make it permanent<a hidden class=anchor aria-hidden=true href=#make-it-permanent>#</a></h3><p>write the below sentence on /etc/fstab</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/swapfile none swap sw 0 0
</span></span></code></pre></td></tr></table></div></div><h3 id=conclusion>conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h3><p>swap is very useful.I like swap.I often set the swap on machine whose disk is more than 8G.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>版权归 withme.top 所有</span> ·
热爱生活 ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>